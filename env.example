# =============================================================================
# FastAPI Database Connector - Environment Configuration
# =============================================================================
# Copy this file to .env and update the values with your actual configuration
# Never commit the actual .env file to version control!

# =============================================================================
# REQUIRED CONFIGURATION
# =============================================================================

# API Authentication Key (REQUIRED)
# Generate a secure random key for production use
API_KEY=sk-1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef

# =============================================================================
# DATABASE CONNECTIONS (At least one required)
# =============================================================================

# Aiven PostgreSQL Database
# Format: postgresql://username:password@hostname:port/database?sslmode=require
AIVEN_POSTGRES=postgresql://avnadmin:AVNS_1234567890abcdef@pg-12345678-abcdef-1234-5678-90abcdef1234.aivencloud.com:12345/defaultdb?sslmode=require

# Aiven MySQL Database  
# Format: mysql://username:password@hostname:port/database?ssl-mode=REQUIRED
AIVEN_MYSQL=mysql://avnadmin:AVNS_1234567890abcdef@mysql-12345678-abcdef-1234-5678-90abcdef1234.aivencloud.com:12345/defaultdb?ssl-mode=REQUIRED

# Neon PostgreSQL Database
# Format: postgresql://username:password@hostname:port/database?sslmode=require
NEON_POSTGRES=postgresql://neondb_owner:neondb_1234567890abcdef@ep-cool-darkness-12345678.us-east-2.aws.neon.tech/neondb?sslmode=require

# Supabase PostgreSQL Database
# Format: postgresql://postgres:password@hostname:port/postgres?sslmode=require
SUPABASE_POSTGRES=postgresql://postgres:supabase_1234567890abcdef@db.abcdefghijklmnop.supabase.co:5432/postgres?sslmode=require

# =============================================================================
# RATE LIMITING & SECURITY
# =============================================================================

# Rate Limiting (requests per time period)
# Examples: "100/hour", "1000/day", "10/minute"
RATE_LIMIT=100/hour

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# Allowed Origins (comma-separated)
# Examples: "https://yourdomain.com,https://app.yourdomain.com" or "*" for all
CORS_ALLOW_ORIGINS=*

# Allowed Methods (comma-separated)
CORS_ALLOW_METHODS=*

# Allowed Headers (comma-separated)
CORS_ALLOW_HEADERS=*

# Exposed Headers (comma-separated)
CORS_EXPOSE_HEADERS=*

# =============================================================================
# DATABASE CONNECTION POOL SETTINGS
# =============================================================================

# Connection Pool Size
DB_POOL_MIN_SIZE=1
DB_POOL_MAX_SIZE=4

# Connection Pool Timeouts (in seconds)
DB_POOL_MAX_INACTIVE_LIFETIME=300
DB_POOL_RECYCLE_TIME=1800

# Statement Cache Size (0 = disabled for pgbouncer compatibility)
DB_STATEMENT_CACHE_SIZE=0

# =============================================================================
# QUERY TIMEOUTS (in milliseconds)
# =============================================================================

# Statement Timeout (3 minutes = 180000ms)
DB_STATEMENT_TIMEOUT_MS=180000

# Execution Timeout (3 minutes = 180000ms)
DB_EXECUTION_TIMEOUT_MS=180000

# =============================================================================
# RESPONSE LIMITS
# =============================================================================

# Maximum rows returned in JSON responses
MAX_JSON_ROWS=10000

# Maximum rows returned in CSV responses
MAX_CSV_ROWS=1000000

# =============================================================================
# FILE HANDLING
# =============================================================================

# CSV Export Settings
CSV_FILENAME=results.csv
CSV_FILE_SUFFIX=.csv
CSV_ENCODING=utf-8

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log Level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=DEBUG

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# API Base URL for testing (used by test scripts)
API_BASE_URL=http://127.0.0.1:8000

# =============================================================================
# HARDCODED VALUES (No longer configurable via environment)
# =============================================================================
# The following values are now hardcoded in the application:
# - LOG_FORMAT: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
# - MULTIPART_LOG_LEVEL: "INFO"
# - RATE_LIMIT_MESSAGE: "Rate limit exceeded. Please try again later or contact your administrator."
# - DEFAULT_MYSQL_PORT: 3306
# - AUTH_MISSING_HEADER_MSG: "Missing Authorization header"
# - AUTH_INVALID_SCHEME_MSG: "Invalid auth scheme, use 'Bearer <token>'"
# - AUTH_INVALID_KEY_MSG: "Invalid API key"
# - QUERY_SUCCESS_MSG: "Query executed successfully"
# - SERVER_HOST: "0.0.0.0"
# - SERVER_PORT: 8000

# =============================================================================
# PRODUCTION NOTES
# =============================================================================
# 1. Always use strong, unique API keys in production
# 2. Restrict CORS origins to your actual domains
# 3. Use read-only database users when possible
# 4. Monitor connection pool usage and adjust sizes as needed
# 5. Set appropriate rate limits based on your usage patterns
# 6. Enable HTTPS in production and update CORS settings accordingly
# 7. Consider using environment-specific .env files (.env.production, .env.staging)
# =============================================================================